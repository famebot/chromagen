<!doctype html><html><head><meta charset="utf-8">
	<title>Chromagen</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"> 
	<meta name="theme-color" content="hsl(172, 94%, 65%)">
	<meta data-rh="true" property="og:image" content="https://o.famebot.com/file/famebot/chromagen.png"/>
	<style>
		:root {
			--hue: 172;
			--complement: 351;
			--analogous: 38;
			--saturation: 94%;
			--xlight: 92%;
			--lighter: 83%;
			--lightness: 65%;
			--midrange: 54%;
			--lowmid: 36%;
			--darkness: 20%;
			--darker: 9%;
			/* primary hue variations by lightness */
			--huexlight: hsl(var(--hue), var(--saturation), var(--xlight));
			--huelighter: hsl(var(--hue), var(--saturation), var(--lighter));
			--huehsl: hsl(var(--hue), var(--saturation), var(--lightness));
			--huemid: hsl(var(--hue), var(--saturation), var(--midrange));
			--huelowmid: hsl(var(--hue), var(--saturation), var(--lowmid));
			--huedark: hsl(var(--hue), var(--saturation), var(--darkness));
			--huedarker: hsl(var(--hue), var(--saturation), var(--darker));
			/* complement variations by lightness */
			--complementxlight: hsl(var(--complement), var(--saturation), var(--xlight));
			--complementlighter: hsl(var(--complement), var(--saturation), var(--lighter));
			--complementhsl: hsl(var(--complement), var(--saturation), var(--lightness));
			--complementmid: hsl(var(--complement), var(--saturation), var(--midrange));
			--complementlowmid: hsl(var(--complement), var(--saturation), var(--lowmid));
			--complementdark: hsl(var(--complement), var(--saturation), var(--darkness));
			--complementdarker: hsl(var(--complement), var(--saturation), var(--darker));
			/* analogous variations by lightness */
			--analogousxlight: hsl(var(--analogous), var(--saturation), var(--xlight));
			--analogouslighter: hsl(var(--analogous), var(--saturation), var(--lighter));
			--analogoushsl: hsl(var(--analogous), var(--saturation), var(--lightness));
			--analogousmid: hsl(var(--analogous), var(--saturation), var(--midrange));
			--analogouslowmid: hsl(var(--analogous), var(--saturation), var(--lowmid));
			--analogousdark: hsl(var(--analogous), var(--saturation), var(--darkness));
			--analogousdarker: hsl(var(--analogous), var(--saturation), var(--darker));
			--swatch-size: 8.375rem;
		}
		body,
		button,
		.swatches figure span {
			transition-duration: 0.375s;
			transition-timing-function: ease-out;
		}
		body,
		footer,
		header {
			display: flex;
		}
		body {
			/*  
				https://css-tricks.com/the-notch-and-css/
				https://css-tricks.com/meta-theme-color-and-trickery/
			*/
			background-color: var(--huehsl);
			background-image: linear-gradient(var(--huehsl), 50%, var(--analogoushsl), 88%, var(--complementhsl));
			color: var(--huedarker);
			flex-direction: column;
			font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', 'Noto Sans', 'Liberation Sans', Oxygen, Ubuntu, Cantarell, 'Open Sans', Arial, sans-serif;
			justify-content: space-between;
			margin: 0 auto;
			max-width: 1152px;
			min-height: 100vh;
			min-height: 100dvh;
			text-align: center;
			transition-property: background-color, background-image, color;
		}
		footer,
		header {
			align-items: center;
			justify-content: space-between;
			margin: 0.75rem 3.5rem 0.75rem;
		}
		/* footer {
			margin-block-end: 0;
		}
		header {
			margin-block-start: 0;
		} */
		a[href] {
			color: var(--huedarker);
		}
		a[href]:visited {
			color: var(--complementdarker);
		}
		a[href]:hover,
		a[href]:active {
			color: var(--analogousdarker);
		}
		button {
			background-color: var(--analogoushsl);
			background-image: linear-gradient(45deg, var(--complementhsl), var(--analogoushsl), var(--huehsl));
			border: .15625em solid var(--huedark);
			border-radius: 99999px;
			color: var(--huedarker);
			font-size: 1.5em;
			padding: 0.25em 0.5em;
			margin: 0;
			transition-property: background-color, background-image, border-color, color;
		}
		button:focus,
		button:hover {
			background-color: var(--complementhsl);
			background-image: linear-gradient(315deg, var(--huehsl), var(--complementhsl), var(--analogoushsl));
			border-color: var(--complementdarker);
		}
		button:active {
			background-color: var(--huehsl);
			border-color: var(--analogousdarker);
		}
		p {
			margin: 0.5rem 0 0.75rem;
		}
		h1 {
			margin-bottom: 0.75rem;
			margin-top: 0.25rem;
			line-height: 1.25;
		}
		.mb0 {
			margin-bottom: 0;
		}
		.mt0 {
			margin-top: 0;
		}
		.tal {
			text-align: left;
		}
		.tar {
			text-align: right;
		}
		.swatches {
			list-style: none;
			margin: 0 auto calc(var(--swatch-size) / 8);
			width: 100%;
			padding: 0;
			display: flex;
			gap: calc(var(--swatch-size) / 8);
			flex-wrap: wrap;
			justify-content: center;
			align-items: flex-start;
		}
		.swatches figure {
			max-width: var(--swatch-size);
			margin: 0;
		}
		.swatches figure span {
			background-color: gray;
			display: block;
			height: var(--swatch-size);
			width: var(--swatch-size);
			margin: 0 auto;
			transition-property: background-color;
			border-radius: 16.75px;
			box-shadow: 0.7px 0.7px 1.1px rgba(0, 0, 0, 0.07),
						1.6px 1.6px 2.7px rgba(0, 0, 0, 0.05),
						3px 3px 5px rgba(0, 0, 0, 0.042),
						5.4px 5.4px 8.9px rgba(0, 0, 0, 0.035),
						10px 10px 16.7px rgba(0, 0, 0, 0.028),
						24px 24px 40px rgba(0, 0, 0, 0.02);
		}
		.swatches figcaption {
			margin-top: 0.5rem;
		}
		@media (max-width: 1152px) {
			footer,
			header {
				display: block;
				margin: 0 0.75rem 0.75rem;
			}
			.mb0 {
				margin-bottom: 0.75rem;
			}
			.tal,
			.tar {
				text-align: center;
			}
			.swatches {
				flex-direction: column;
				height: calc(var(--swatch-size) * 8);
				max-width: calc(var(--swatch-size) * 3.25);
			}
		}
		@media (max-width: 448px) {
			.swatches {
				flex-direction: row;
				height: auto;
				max-width: 100%;
			}
		}
		@media (prefers-color-scheme: dark) {
			body {
				background-color: var(--huedark);
				background-image: linear-gradient(var(--huedark), 50%, var(--analogousdark), 88%, var(--complementdark));
				color: var(--huelighter);
			}
			a[href] {
				color: var(--complementhsl);
			}
			a[href]:visited {
				color: var(--huelighter);
			}
			a[href]:hover,
			a[href]:active {
				color: var(--analogoushsl);
			}
			button {
				border-color: var(--huehsl);
			}
			button:focus,
			button:hover {
				border-color: var(--complementhsl);
			}
			button:active {
				border-color: var(--analogoushsl);
			}
		}
		div:where(.swal2-container) div:where(.swal2-popup) {
			padding: 0 !important;
		}
		div:where(.swal2-container) h2:where(.swal2-title) {
			background-color: rgba(255,255,255,0.5);
			border-radius: 0 0 5px 5px;
			color: var(--huedarker) !important;
			padding: .4em 1em .4em !important;
		}
	</style>
</head><body>
	<header>
		<h1 class="mb0 mt0 tal">Chromagen</h1>
		<p class="mb0 mt0 tar"><span id="chromagen-hue"></span></p>
		<button onclick="rainbow()">Regenerate Colors</button>
	</header>
	<ul class="swatches">
		<li>
			<figure>
				<span
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huexlight);"
					title="hue xlight"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huelighter);"
					title="hue lighter"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huehsl);"
					title="hue"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huemid);"
					title="hue mid"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huelowmid);"
					title="hue low mid"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huedark);"
					title="hue dark"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--huedarker);"
					title="hue darker"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogousxlight);"
					title="analogous xlight"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogouslighter);"
					title="analogous lighter"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogoushsl);"
					title="analogous"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogousmid);"
					title="analogous mid"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogouslowmid);"
					title="analogous low mid"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogousdark);"
					title="analogous dark"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--analogousdarker);"
					title="analogous darker"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementxlight);"
					title="complement xlight"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementlighter);"
					title="complement lighter"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementhsl);"
					title="complement"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementmid);"
					title="complement mid"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementlowmid);"
					title="complement low mid"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementdark);"
					title="complement dark"
				></span>
			</figure>
		</li>
		<li>
			<figure>
				<span 
					onClick="copyBackgroundColor(this)"
					style="background-color: var(--complementdarker);"
					title="complement darker"
				></span>
			</figure>
		</li>
	</ul>
	<footer>
		<div class="tal">
			<p class="mb0">Select a swatch to copy its CSS to your&nbsp;clipboard.</p>
			<p class="mb0">UMD edition &middot; <a href="https://github.com/famebot/chromagen">Source code on&nbsp;GitHub</a></p>
		</div>
		<div class="tar">
			<p class="mb0 mt0">Supports <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">light and dark&nbsp;mode.</a></p>
			<p class="mb0">
				Toggle light/dark: 
				<a href="https://firefox-source-docs.mozilla.org/devtools-user/page_inspector/how_to/examine_and_edit_css/index.html#view-media-rules-for-prefers-color-scheme">Firefox</a> &middot; 
				<a href="https://webkit.org/blog/13966/webkit-features-in-safari-16-4/#tooling-for-conditionals-in-css">Safari</a> &middot; 
				<a href="https://developer.chrome.com/docs/devtools/rendering/emulate-css/#emulate-css-media-feature-prefers-color-scheme">Chrome</a>
			</p>
		</div>
	</footer>
	<script src="./chromagen.umd.js"></script>
	<!-- 
		or use unpkg: 
		<script src="https://unpkg.com/@famebot/chromagen/dist/chromagen.umd.js"></script>
	 -->
	<script>
		const rainbow = () => {
			const colorScheme = chromagen();
			console.log(colorScheme);
			// https://davidwalsh.name/css-variables-javascript
			const docstyle = document.documentElement.style;
			// mixing values
			docstyle.setProperty('--hue', colorScheme.hue);
			docstyle.setProperty('--complement', colorScheme.complement);
			docstyle.setProperty('--analogous', colorScheme.analogous);
			docstyle.setProperty('--saturation', colorScheme.saturation);
			docstyle.setProperty('--xlight', colorScheme.xlight);
			docstyle.setProperty('--lighter', colorScheme.lighter);
			docstyle.setProperty('--lightness', colorScheme.lightness);
			docstyle.setProperty('--midrange', colorScheme.midrange);
			docstyle.setProperty('--lowmid', colorScheme.lowmid);
			docstyle.setProperty('--darkness', colorScheme.darkness);
			docstyle.setProperty('--darker', colorScheme.darker);
			
			function activateColorScheme() {
				const colorSchemeQueryList = window.matchMedia('(prefers-color-scheme: light)');
				console.log(colorSchemeQueryList)
				if ((colorSchemeQueryList.media === 'not all') 
				|| (colorSchemeQueryList.matches === true)) {
					document.querySelector('meta[name="theme-color"]').setAttribute('content', `hsl(${colorScheme.hue}, ${colorScheme.saturation}%, ${colorScheme.lightness}%)`);
				} else {
					document.querySelector('meta[name="theme-color"]').setAttribute('content', `hsl(${colorScheme.hue}, ${colorScheme.saturation}%, ${colorScheme.darkness}%)`);
				}
			}
			const darkPreference = window.matchMedia("(prefers-color-scheme: dark)");
			const lightPreference = window.matchMedia("(prefers-color-scheme: light)");
			darkPreference.addEventListener("change", e => e.matches && activateColorScheme());
			lightPreference.addEventListener("change", e => e.matches && activateColorScheme());
			activateColorScheme();
			
			document.getElementById('chromagen-hue').innerHTML = `Hues: Analogous&nbsp;${colorScheme.analogous }, Complement&nbsp;${colorScheme.complement}, Primary&nbsp;${colorScheme.hue}`;
		}
		rainbow();
	</script>
	<script src="https://unpkg.com/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
	<script>
		function copyText(textToCopy) {
			// console.log(`attempting to copy: ${textToCopy}`);
			// Copy the text inside the text field
			let isDefined = (textToCopy !== 'undefined');
			if (navigator.clipboard && isDefined) {
				// console.log(`clipboard available`);
				navigator.clipboard.writeText(textToCopy);

				Swal.fire({
					background: textToCopy,
					icon: 'success',
					showConfirmButton: false,
					title: `Copied ${textToCopy}`,
					timer: 1500,
				});
			} else {
				// console.log(`value missing or clipboard unavailable`);
				// potential error on iOS, due to lack of secure origin:
				// TypeError: undefined is not an object (evaluating 'navigator.clipboard.writeText')
				// https://webkit.org/blog/10855/async-clipboard-api/
				// > The API is limited to secure contexts, which means that 
				// > navigator.clipboard is not present for http:// websites.
				Swal.fire({
					background: `var(--hue)`,
					icon: 'error',
					showConfirmButton: false,
					title: `Not copied: Value missing or HTTPS required`,
					timer: 1500,
				});
			}
		}
		
		function copyBackgroundColor(cSpan) {
			const bColorProp = cSpan.style.backgroundColor.slice(4,-1)
			const bColor = getComputedStyle(document.documentElement).getPropertyValue(bColorProp);
			console.log(bColor);
			copyText(bColor);
		}
	</script>
</body></html>
